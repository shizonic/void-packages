# Template file for 'Ananicy'
pkgname=Ananicy
version=2.2.0
revision=1
build_style=gnu-makefile
hostmakedepends="util-linux"
depends="coreutils python3 bash schedtool"
short_desc="Another auto nice daemon, with community rules support"
maintainer="shizonic <realtiaz@gmail.com>"
license="GPL-3.0-or-later"
homepage="https://github.com/Nefelim4ag/Ananicy"
distfiles="https://github.com/Nefelim4ag/Ananicy/archive/${version}.tar.gz"
checksum=9c5b08b1216b7c0610d0a77044e2cf112ed24ef62d5cbc0030baf8e01352aa26

do_install() {
	make install PREFIX="${DESTDIR}"

	# cleanup systemd stuff
	rm -rf "${DESTDIR:?}/lib"
	rm -rf "${DESTDIR:?}/usr/lib"
	rm -rf "${DESTDIR:?}/etc/ananicy.d/00-default/_systemd.rules"

	# install runit service
	vsv Ananicy
}
