# Template file for 'brother-hl3170cdw-lpr'
pkgname=brother-hl3170cdw-lpr
version=1.1.2
revision=6
archs="i686 x86_64"
create_wrksrc=yes
depends="a2ps ghostscript"
short_desc="LPR driver for the brother HL-3170CDW printer"
maintainer="shizonic <realtiaz@gmail.com>"
license="GPL-2.0-only"
homepage="http://support.brother.com/g/b/index.aspx"
distfiles="https://support.brother.com/g/b/files/dlf/dlf007056/hl3170cdwlpr-${version}-1.i386.deb"
checksum=3751a3407b61e64e2a85b7d62c89f3b9bf4370db1e7b880a737116d9621fae4a
mutable_files="/opt/brother/Printers/hl3170cdw/inf/brhl3170cdwrc"
nopie=yes
system_accounts="lp"

if [ "$XBPS_TARGET_MACHINE" = "x86_64" ]; then
	depends+=" glibc-32bit"
fi

do_extract() {
	ar x ${XBPS_SRCDISTDIR}/${pkgname}-${version}/hl3170cdwlpr-${version}-1.i386.deb
}

do_install() {
	mkdir -p ${DESTDIR}
	bsdtar xzpvf data.tar.gz -C ${DESTDIR}
}
